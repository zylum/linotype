# Linotype v0.6

v0.6 adds **LinoLoop**, a thin execution wrapper that sits on top of executor briefs (`cli/linotype exec ...`) and can run one galley or an ordered release list.

This doc covers:
- What changed from v0.5
- How to run LinoLoop for a single galley
- How to run LinoLoop for a release
- Fallback behavior when no loop runner is installed

## What changed from v0.5

### 1) LinoLoop runner wrapper
New command:

`cli/linoloop <galley-name|release-id>`

LinoLoop behavior:
- Generates the executor brief with `cli/linotype exec opencode <galley>`
- Invokes a loop runner (default: `ralph`) to execute iterations until completion or max-iteration limit
- Writes logs and lock files under `dist/linoloop/`

### 2) Release-oriented execution
LinoLoop can target a release ID if this file exists:

`docs/work/releases/<release-id>/galleys.txt`

`galleys.txt` rules:
- one galley name per line
- blank lines allowed
- `#` comments allowed

### 3) Manual fallback mode
If the configured loop runner is unavailable, LinoLoop prints the generated executor brief and exits so you can paste it into OpenCode manually.

## Running LinoLoop

### Single galley

```bash
cli/linoloop 20260216-auth-passkeys
```

### Release

```bash
cli/linoloop 2026-02-release-a
```

Where `docs/work/releases/2026-02-release-a/galleys.txt` might look like:

```txt
# release ordering
20260210-auth-passkeys
20260211-login-ui
20260212-session-hardening
```

## Environment knobs

LinoLoop supports these environment variables:

- `LINOLOOP_AGENT` (default: `opencode`)
- `LINOLOOP_MAX_ITER` (default: `50`)
- `LINOLOOP_RUNNER` (default: `ralph`)

Example:

```bash
LINOLOOP_MAX_ITER=80 LINOLOOP_RUNNER=ralph cli/linoloop 2026-02-release-a
```

## Operational notes

- LinoLoop is orchestration-only; it does not replace slug acceptance checks or commit discipline.
- Agents still follow `docs/ai/_agent-rules.md`.
- Releases are **referencers**, not containers: they point to galley IDs rather than duplicating galley content.
